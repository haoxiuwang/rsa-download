#cloud-config
users:  
  - name: core
    ssh_authorized_keys:
      - ssh-rsa 
     AAAAB3NzaC1yc2EAAAABJQAAAQEAwW5mLOWyAm6JoK/YMo7wFfs8fLkOdVk8D7gd/QfBx4Fzb5WJVykBpyaQ9z+QUSUADG/sSoSdb+FQyjQGG3SALN4LTflwUNfCvd0PO2c242do2VKqNd7EF63h0gDYnsCAbcq5UYOBwKPvY7F6Xa+6NLt9/lBxAei4NA2tiTUcg7IxgYg2+Xjvu6FllsOYmB87OZDXXcl7+jIpgv84TjGakkYc00k/dMxqS8svPZxGmf5FHEesVcfW5KDIOYuZ4fdmzRmaJ/jxzt8YABad4KqpLfA1OI4XvMo6G/hNIo9B1hrwfd0alW40FpcgjcQEa0OyWV2rVxVBnI8DYU9/v0u7Tw==
    groups:
      - sudo
      - docker
    shell: /bin/sh
write_files:  
  - path: /etc/ssh/sshd_config
    permissions: 0600
    owner: root
    content: |
      # Use most defaults for sshd configuration.
      UsePrivilegeSeparation sandbox
      Subsystem sftp internal-sftp
      ClientAliveInterval 180
      UseDNS no
      PermitRootLogin yes //允许root登录，可以留作备用登录方式
      ChallengeResponseAuthentication no 
      PasswordAuthentication yes 
